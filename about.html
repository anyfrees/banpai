<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>关于 - 班牌发送端</title>
    <style>
        :root {
            --primary-font: 'Roboto', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            --card-bg-color: #ffffff;
            --text-primary: #333740;
            --text-secondary: #777e8c;
            --border-color: #e5e9f2;
            --accent-color-primary: #6a5acd; /* 主强调色 - 淡紫色 */
            --accent-color-secondary: #3498db; /* 次强调色 - 清爽蓝 */
            --card-border-radius: 10px;
        }
        body {
            font-family: var(--primary-font);
            margin: 0;
            padding: 20px; /* 给body一些内边距 */
            background-color: #f4f7fc; /* 与主窗口背景一致 */
            color: var(--text-primary);
            font-size: 14px;
            line-height: 1.7; /* 增加行高以提高可读性 */
            display: flex;
            justify-content: center; /* 水平居中容器 */
            align-items: flex-start; /* 从顶部开始对齐 */
            min-height: 100vh;
            box-sizing: border-box;
        }
        .about-container {
            background-color: var(--card-bg-color);
            padding: 25px 35px; /* 调整内边距 */
            border-radius: var(--card-border-radius);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1); /* 更明显的阴影 */
            max-width: 700px; /* 适当增加最大宽度 */
            width: 100%;
            box-sizing: border-box;
            border: 1px solid var(--border-color);
        }
        h1 {
            color: var(--accent-color-primary);
            font-size: 2em; /* 增大主标题 */
            margin-top: 0;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        h1 i {
            margin-right: 12px; /* 图标与文字间距 */
            font-size: 0.9em; /* 调整图标大小以匹配文字 */
        }
        h2 {
            color: var(--accent-color-secondary);
            font-size: 1.4em; /* 增大二级标题 */
            margin-top: 30px;
            margin-bottom: 12px;
            border-bottom: 1px dashed #d0d9e8; /* 虚线分隔 */
            padding-bottom: 8px;
            display: flex;
            align-items: center;
        }
        h2 i {
            margin-right: 10px;
            font-size: 0.9em;
        }
        h3 {
            color: var(--text-primary);
            font-size: 1.1em;
            margin-top: 20px;
            margin-bottom: 8px;
            font-weight: 500;
        }
        p, li {
            color: var(--text-secondary);
            margin-bottom: 8px; /* 段落和列表项的底部间距 */
        }
        strong {
            color: var(--text-primary);
            font-weight: 500;
        }
        a {
            color: var(--accent-color-primary);
            text-decoration: none;
            font-weight: 500;
        }
        a:hover {
            text-decoration: underline;
            color: #5847b3; /* 主按钮悬停颜色 */
        }
        ul {
            padding-left: 25px; /* 列表项缩进 */
            margin-bottom: 20px;
        }
        ul ul {
            margin-top: 5px;
            margin-bottom: 10px;
        }
        .developer-info, .usage-instructions {
            margin-bottom: 25px;
        }
        .developer-info p {
            margin: 8px 0; /* 开发者信息段落间距 */
        }
        .close-button-container {
            text-align: center;
            margin-top: 35px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        .close-button {
            padding: 10px 30px; /* 增大关闭按钮padding */
            background-color: var(--accent-color-primary);
            color: var(--button-text-light);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em; /* 增大按钮字体 */
            font-weight: 500;
            transition: background-color 0.2s ease, transform 0.1s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .close-button:hover {
            background-color: var(--button-primary-hover-bg, #5847b3);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transform: translateY(-1px);
        }
         .close-button:active {
            transform: translateY(0px);
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
        }
        code { /* 用于文件名或特定文本的样式 */
            background-color: #e9ecef;
            padding: 2px 5px;
            border-radius: 4px;
            font-family: 'Menlo', 'Monaco', 'Consolas', "Courier New", monospace;
            font-size: 0.9em;
            color: #c0392b; /* 红色系，突出显示 */
        }
        .icon-inline { /* 用于行内小图标 */
            margin-right: 4px;
        }
    </style>
     <link rel="stylesheet" href="./assets/fontawesome/css/all.min.css">
</head>
<body>
    <div class="about-container">
        <h1><i class="fas fa-rocket"></i> 班牌发送端</h1>

        <section class="developer-info">
            <h2><i class="fas fa-user-astronaut"></i> 开发者信息</h2>
            <p><strong>开发者：</strong> Cheng Kai</p>
            <p><strong>支持网站：</strong> <a href="https://www.0vk.com" target="_blank" title="访问 0vk.com">https://www.0vk.com</a></p>
            <p><strong>联系邮箱：</strong> <a href="mailto:i@chengkai.vip" title="发送邮件给开发者">i@chengkai.vip</a></p>
        </section>

        <section class="usage-instructions">
            <h2><i class="fas fa-book-open"></i> 功能使用说明</h2>
            
            <h3><i class="fas fa-list-ol"></i> 目标设备列表管理</h3>
            <ul>
                <li><strong>加载列表：</strong> 程序启动时会自动从本地（用户数据目录下的 <code>ImageSenderData/computers.json</code>）加载之前保存的设备列表。</li>
                <li><strong>添加设备：</strong> 点击侧边栏的“<i class="fas fa-plus icon-inline"></i> 添加”按钮，在弹出的对话框中输入设备的名称和IP地址。IP地址必须唯一。</li>
                <li><strong>删除设备：</strong>
                    <ul>
                        <li><strong>单选删除：</strong> 点击列表中的某个设备卡片（卡片会以紫色背景高亮显示为当前选中），然后点击“<i class="fas fa-trash-alt icon-inline"></i> 删除”按钮，在确认对话框中确认后即可删除。</li>
                        <li><strong>多选删除：</strong> 点击设备卡片左侧的复选框 <input type="checkbox" style="pointer-events: none; accent-color: #6a5acd; vertical-align: middle;" checked disabled> 选择一个或多个设备（卡片会有绿色左边框提示），然后点击“<i class="fas fa-trash-alt icon-inline"></i> 删除”按钮进行批量删除。</li>
                    </ul>
                </li>
                <li><strong>导入列表：</strong> 点击“<i class="fas fa-file-import icon-inline"></i> 导入”按钮，选择一个文本文件（<code>.txt</code> 或 <code>.csv</code>）。文件格式要求每行一条记录，内容为“设备名称,IP地址”（例如：<code>一楼大厅,192.168.1.10</code>）。程序会自动跳过格式错误或IP地址已存在于当前列表的条目。</li>
                <li><strong>拖动排序：</strong> 按住列表中的某个设备卡片，可以上下拖动以改变其在列表中的顺序。顺序更改后会自动保存。</li>
                <li><strong>刷新状态：</strong> 点击“<i class="fas fa-sync-alt icon-inline"></i> 刷新状态”按钮，程序会尝试探测列表中所有设备的在线状态（通过TCP连接默认端口5000）。设备卡片前的圆形指示灯会显示状态：
                    <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #10b981; margin: 0 2px; vertical-align: middle;"></span> 在线 (绿色)，
                    <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #ef4444; margin: 0 2px; vertical-align: middle;"></span> 离线 (红色)，
                    <span style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: #777e8c; margin: 0 2px; vertical-align: middle;"></span> 未知/探测中 (灰色)。
                </li>
            </ul>

            <h3><i class="fas fa-paper-plane"></i> 单独发送图片</h3>
            <ul>
                <li>首先从左侧“目标设备列表”中**单击选中**一个状态为“在线”的设备。</li>
                <li>然后点击“<i class="fas fa-file-import icon-inline"></i> 选择图像”按钮，从您的计算机中选择一个图片文件（支持JPG, PNG, BMP格式）。</li>
                <li>程序会自动将非BMP格式的图片转换为24位BMP格式进行处理。如果文件名包含中文字符，也会被自动替换为基于时间戳的英文/数字组合名称，并确保后缀为 <code>.bmp</code>。</li>
                <li>图片选定并处理完成后，预览区会显示图片，“开始发送”按钮会变为可用状态。</li>
                <li>点击“<i class="fas fa-paper-plane icon-inline"></i> 开始发送”按钮即可将图片发送到选定的目标设备。发送详情会在弹出的日志窗口中显示，底部状态栏也会显示最终结果。</li>
                <li><strong>注意：</strong> 只有当选定的目标设备状态为“在线”时，才能进行发送。</li>
            </ul>

            <h3><i class="fas fa-history"></i> 一键恢复/批量发送自定义图片</h3>
            <ul>
                <li>点击侧边栏“系统操作”下的“<i class="fas fa-history icon-inline"></i> 一键恢复”按钮。</li>
                <li>程序会提示您选择一个包含恢复图片的**文件夹**。</li>
                <li>该文件夹内的图片需要按照数字顺序命名，例如 <code>1.bmp</code>, <code>2.bmp</code>, <code>3.bmp</code> 等。这些数字将对应左侧“目标设备列表”中设备的**当前排序ID**。例如，列表中的第1个设备将接收文件夹中的 <code>1.bmp</code>，第2个设备接收 <code>2.bmp</code>，以此类推。</li>
                <li>选择文件夹后，程序会将对应的图片发送到列表中的所有计算机设备（如果设备不在线，会尝试发送但通常会失败，详情见日志）。</li>
                <li>所有发送操作的详情同样会在弹出的日志窗口中显示。</li>
            </ul>
            
            <h3><i class="fas fa-window-restore"></i> 窗口操作</h3>
            <ul>
                <li>程序窗口右上角提供最小化、最大化/还原、关闭按钮。</li>
                <li>可以通过拖动最顶部的标题栏来移动窗口。</li>
            </ul>
        </section>

        <div class="close-button-container">
            <button id="about-close-btn" class="close-button">关闭</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const closeButton = document.getElementById('about-close-btn');
            if (closeButton) {
                closeButton.addEventListener('click', () => {
                    // 在Electron的渲染进程中，如果这个窗口是由主进程创建的BrowserWindow，
                    // 通常需要通过IPC通知主进程来关闭它，除非它是子窗口且父窗口已指定。
                    // 为简单起见，如果preload.js暴露了关闭方法，可以使用它。
                    // 否则，window.close() 可能只对由 window.open() 创建的窗口有效。
                    // 鉴于此窗口由主进程创建，更稳妥的方式是主进程处理关闭。
                    // 这里我们假设主进程会处理 logWindow.close()。
                    // 如果这个about窗口是独立的，则 window.close() 可能有效。
                    // 为确保能关闭，最好还是通过IPC。
                    // 此处我们先用 window.close()，如果不行再调整。
                    window.close(); 
                });
            }
        });
    </script>
</body>
</html>
